/* =========================================================
   Glass Surface (shared)
   - 목적: 카드/패널/요약 박스에 반복되는 "유리 표면" 속성 중복 제거
   - 원칙: 컴포넌트 파일에서는 '형태/레이아웃'만, 표면(배경/테두리/그림자/블러)은 여기로
========================================================= */

/* 기본 프리셋: Glass */
:where(.gls-surface-glass, .card, .gls-post-card, #userInfo, .glass-card) {
  background: var(--gls-surface-glass-bg, var(--gls-glass-bg-subtle));
  border: 1px solid var(--gls-surface-glass-border, var(--gls-ghost-border));
  box-shadow: var(--gls-surface-glass-shadow, var(--gls-glass-shadow));
  backdrop-filter: blur(var(--gls-surface-glass-blur, var(--gls-glass-blur)));
  -webkit-backdrop-filter: blur(var(--gls-surface-glass-blur, var(--gls-glass-blur)));
  position: relative;
}

:where(.gls-surface-glass, .card, .gls-post-card, #userInfo, .glass-card)::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  box-shadow: var(--gls-surface-glass-inset, var(--gls-glass-inset));
  pointer-events: none;
}

/* hover(선택): 표면을 살짝 들어 올리거나 더 또렷하게 */
@media (hover: hover) and (pointer: fine) {
  :where(.gls-surface-glass.is-hoverable, .gls-post-card):hover {
    background: var(--gls-surface-glass-bg-hover, var(--gls-ghost-bg));
    border-color: var(--gls-surface-glass-border-hover, var(--gls-ghost-border-hover));
    box-shadow: var(--gls-surface-glass-shadow-hover, var(--gls-glass-shadow-hover));
  }
}

/* =========================================================
   Alias surfaces (migrated from base.css)
   - 목적: 기존 마크업이 쓰는 .gls-surface-panel / .gls-surface-veil 유지
   - 규칙: 표면 소유권은 surfaces.css가 가진다 (base.css 금지)
========================================================= */

.gls-surface-panel {
  background: var(--gls-surface-panel-bg, var(--gls-glass-bg-subtle));
  border: 1px solid var(--gls-surface-panel-border, var(--gls-glass-border));
  border-radius: var(--gls-surface-panel-radius, var(--gls-radius-lg, 18px));
  box-shadow: var(--gls-surface-panel-shadow, var(--gls-glass-shadow));
  backdrop-filter: blur(var(--gls-surface-panel-blur, var(--gls-glass-blur)));
  -webkit-backdrop-filter: blur(var(--gls-surface-panel-blur, var(--gls-glass-blur)));
  position: relative;
}

.gls-surface-panel::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  box-shadow: var(--gls-surface-panel-inset, var(--gls-glass-inset));
  pointer-events: none;
}

.gls-surface-veil {
  position: relative;
}

.gls-surface-veil::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.18),
    rgba(255, 255, 255, 0.06)
  );
  border-radius: inherit;
  pointer-events: none;
  z-index: 0;
}

.gls-surface-veil > * {
  position: relative;
  z-index: 1;
}
