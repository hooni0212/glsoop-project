<!DOCTYPE html>
<html lang="ko">
<head>
  <!--
    회원가입 페이지(signup.html)
    - 연동 CSS: base.css, components.css, login.css(공통 인증 레이아웃), 계절 테마
    - 연동 JS: header.js(네비), signup.js(회원가입 폼 제출 및 이메일 인증 안내)
    - 주요 요소: #signupForm (이메일/닉네임/비밀번호) → 완료 시 알림 후 인증 절차 안내
  -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>회원가입 | 글숲</title>

  <!-- Google Fonts: 글숲 공통 폰트 -->
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS: 기본 레이아웃/폼 스타일용 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/css/app.css">

</head>
<body class="winter-theme">
  <!-- 헤더(네비게이션 바) 영역 -->
  <nav class="navbar navbar-expand-lg navbar-dark custom-navbar fixed-top nav-height">
    <div class="gls-container">
      <!-- 로고: 클릭 시 메인 페이지로 이동 -->
      <a class="navbar-brand" href="/index.html">글숲</a>

      <!-- 모바일에서 메뉴를 접었다 펼치는 토글 버튼 -->
      <button class="navbar-toggler" type="button" data-gls-toggle="nav" aria-controls="navbarNav" aria-expanded="false">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- 실제 네비게이션 메뉴 -->
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav gls-me-lg-3 category-dropdown-nav">
          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              href="#"
              id="categoryDropdown"
              role="button"
              data-gls-toggle="dropdown"
              aria-expanded="false"
            >
              카테고리
            </a>
            <ul class="dropdown-menu nav-category-menu" aria-labelledby="categoryDropdown">
              <li><a class="dropdown-item nav-category-item" href="/explore">전체</a></li>
              <li><a class="dropdown-item nav-category-item" href="/html/category.html?category=poem">시</a></li>
              <li><a class="dropdown-item nav-category-item" href="/html/category.html?category=essay">에세이/일기</a></li>
              <li><a class="dropdown-item nav-category-item" href="/html/category.html?category=short">짧은 구절</a></li>
            </ul>
          </li>
        </ul>
        <!-- 로그인 전 메뉴 (header.js에서 /api/me 결과로 보이도록 제어) -->
        <ul class="navbar-nav gls-ms-auto before-login">
          <li class="nav-item">
            <a class="nav-link" href="/html/login.html">로그인</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/html/signup.html">회원가입</a>
          </li>
        </ul>

        <!-- 로그인 후 메뉴 (기본 숨김, header.js에서 토글) -->
        <ul class="navbar-nav gls-ms-auto after-login" style="display: none;">
          <!-- 로그인한 사용자 이름 -->
          <li class="nav-item">
            <span class="nav-link" id="navUserName"></span>
          </li>
          <!-- 마이페이지 / 글쓰기 / 로그아웃 -->
          <li class="nav-item">
            <a class="nav-link" href="/html/mypage.html">마이페이지</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/html/editor.html">글쓰기</a>
          </li>
          <li class="nav-item">
            <button
              class="user-profile"
              id="logoutBtn"
              type="button"
              aria-label="로그아웃"
            >
              <span class="user-profile-inner">
                <svg
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                >
                  <g data-name="Layer 2" id="Layer_2">
                    <path
                      d="m15.626 11.769a6 6 0 1 0 -7.252 0 9.008 9.008 0 0 0 -5.374 8.231 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 9.008 9.008 0 0 0 -5.374-8.231zm-7.626-4.769a4 4 0 1 1 4 4 4 4 0 0 1 -4-4zm10 14h-12a1 1 0 0 1 -1-1 7 7 0 0 1 14 0 1 1 0 0 1 -1 1z"
                    ></path>
                  </g>
                </svg>
                <span class="user-profile-label">로그아웃</span>
              </span>
            </button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- 회원가입 섹션: 상단 여백(gls-py-5) + fixed-top 네비게이션 높이만큼 gls-mt-5 -->
  <section class="gls-py-5 gls-mt-5">
    <div class="gls-container">
      <!-- 페이지 제목 -->
      <h2 class="gls-text-center gls-mb-4">회원가입</h2>

      <!-- 회원가입 폼 -->
      <form id="signupForm" class="mx-auto" style="max-width: 420px;">

        <!-- ✅ 약관 / 개인정보 동의 영역 (제목 바로 아래에 위치) -->
        <div class="gls-mb-4 gls-p-3 border rounded bg-white">
          <!-- 전체 동의 체크박스: 모든 하위 항목을 한 번에 토글 -->
          <div class="gls-check gls-mb-2">
            <input class="gls-check-input" type="checkbox" id="agreeAll">
            <label class="gls-check-label gls-fw-bold" for="agreeAll">
              전체 동의하기
            </label>
          </div>

          <!-- 전체 동의와 개별 동의를 구분하기 위한 구분선 -->
          <hr class="gls-my-2">

          <!-- [필수] 만 14세 이상 -->
          <!-- .agree-required 클래스로 JS에서 필수 항목으로 묶어서 처리 -->
          <div class="gls-check gls-mb-2">
            <input class="gls-check-input agree-required" type="checkbox" id="agreeAge" required>
            <label class="gls-check-label" for="agreeAge">
              [필수] 만 14세 이상입니다.
            </label>
          </div>

          <!-- [필수] 서비스 이용약관 동의 -->
          <div class="gls-check gls-mb-2">
            <input class="gls-check-input agree-required" type="checkbox" id="agreeTerms" required>
            <label class="gls-check-label" for="agreeTerms">
              [필수] 서비스 이용약관에 동의합니다.
              <!-- 약관 상세 페이지 새 창에서 열기 -->
              <a href="/html/terms.html" target="_blank" class="ms-1">약관 보기</a>
            </label>
          </div>

          <!-- [필수] 개인정보 수집·이용 동의 -->
          <div class="gls-check gls-mb-2">
            <input class="gls-check-input agree-required" type="checkbox" id="agreePrivacy" required>
            <label class="gls-check-label" for="agreePrivacy">
              [필수] 개인정보 수집 및 이용에 동의합니다.
              <!-- 개인정보 처리 내용 상세 페이지 새 창에서 열기 -->
              <a href="/html/privacy.html" target="_blank" class="ms-1">자세히</a>
            </label>
          </div>

          <!-- [선택] 마케팅 이메일 수신 동의 -->
          <!-- .agree-optional 클래스로 필수와 분리해서 관리 -->
          <div class="gls-check gls-mb-1">
            <input class="gls-check-input agree-optional" type="checkbox" id="agreeMarketing">
            <label class="gls-check-label" for="agreeMarketing">
              [선택] 이벤트/소식 등 이메일 수신에 동의합니다.
            </label>
          </div>

          <!-- 약관 안내 문구 -->
          <small class="gls-text-muted gls-block gls-mt-2">
            필수 항목에 동의하지 않으시면 회원가입이 어렵습니다.
          </small>
        </div>

        <!-- 기본 정보 입력 영역 -->

        <!-- 이름 입력 -->
        <div class="gls-mb-3">
          <label class="gls-label">이름</label>
          <input type="text" name="name" class="gls-input" required>
        </div>

        <!-- 닉네임 입력 -->
        <!-- 서버에서는 이 닉네임을 author_nickname 등으로 활용 -->
        <div class="gls-mb-3">
          <label class="gls-label">닉네임</label>
          <input type="text" name="nickname" class="gls-input" required>
        </div>

        <!-- 이메일 입력 -->
        <div class="gls-mb-3">
          <label class="gls-label">이메일</label>
          <input type="email" name="email" class="gls-input" required>
        </div>

        <!-- 비밀번호 입력 -->
        <div class="gls-mb-3">
          <label class="gls-label">비밀번호</label>
          <input type="password" name="pw" class="gls-input" required>
        </div>

        <!-- 가입 버튼 -->
        <button type="submit" class="gls-btn gls-btn-primary gls-btn-block gls-mt-2">가입하기</button>
      </form>
    </div>
  </section>

  <!-- 글숲 푸터 (사이트 공통 하단 영역) -->
  <footer class="custom-footer">
    <div class="gls-container">
      <div class="gls-flex gls-flex-col gls-gap-2 gls-md-flex-row gls-justify-between gls-items-center">
        <div class="gls-text-center gls-text-md-start">
          <div class="footer-brand">글숲</div>
          <p class="footer-subtitle gls-mb-0">마음을 나누는 작은 숲</p>
        </div>
        <div class="gls-text-center gls-text-md-end footer-meta">
          <p class="footer-copy gls-mb-1">조용히 머물다 가는 공간을 함께 가꿔요.</p>
          <p class="footer-small gls-mb-0">&copy; 2025 글숲</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- JS 로드 순서 -->
  <!-- 공통 유틸 (escapeHtml, maskEmail 등) -->
  <script src="/js/utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <!-- 헤더 로그인 상태 제어 스크립트 (/api/me 호출해서 before/after-login 토글) -->
  <script src="../js/theme.js" defer></script>
  <script src="../js/header.js"></script>
  <!-- 회원가입 처리 로직 (폼 제출 → /api/signup POST) -->
  <script src="../js/signup.js"></script>


</body>
</html>
