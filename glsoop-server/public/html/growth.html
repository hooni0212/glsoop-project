<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>성장 · 숲 지도 | 글숲</title>
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="/css/app.css">
</head>
<body class="winter-theme page-growth">
  <nav class="navbar navbar-expand-lg navbar-dark custom-navbar fixed-top nav-height">
    <div class="gls-container">
      <a class="navbar-brand" href="/index.html">글숲</a>
      <button class="navbar-toggler" type="button" data-gls-toggle="nav" aria-controls="navbarNav" aria-expanded="false">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav gls-me-lg-3 category-dropdown-nav">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-gls-toggle="dropdown" aria-expanded="false">
              카테고리
            </a>
            <ul class="dropdown-menu nav-category-menu" aria-labelledby="categoryDropdown">
              <li><a class="dropdown-item nav-category-item" href="/explore">전체</a></li>
              <li><a class="dropdown-item nav-category-item" href="/html/category.html?category=poem">시</a></li>
              <li><a class="dropdown-item nav-category-item" href="/html/category.html?category=essay">에세이/일기</a></li>
              <li><a class="dropdown-item nav-category-item" href="/html/category.html?category=short">짧은 구절</a></li>
            </ul>
          </li>
        </ul>

        <ul class="navbar-nav gls-ms-auto before-login">
          <li class="nav-item">
            <a class="nav-link" href="/html/login.html">로그인</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/html/signup.html">회원가입</a>
          </li>
        </ul>

        <ul class="navbar-nav gls-ms-auto after-login" style="display: none;">
          <li class="nav-item">
            <span class="nav-link" id="navUserName"></span>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/html/mypage.html">마이페이지</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/html/editor.html">글쓰기</a>
          </li>
          <li class="nav-item">
            <button
              class="user-profile"
              id="logoutBtn"
              type="button"
              aria-label="로그아웃"
            >
              <span class="user-profile-inner">
                <svg
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                >
                  <g data-name="Layer 2" id="Layer_2">
                    <path
                      d="m15.626 11.769a6 6 0 1 0 -7.252 0 9.008 9.008 0 0 0 -5.374 8.231 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 9.008 9.008 0 0 0 -5.374-8.231zm-7.626-4.769a4 4 0 1 1 4 4 4 4 0 0 1 -4-4zm10 14h-12a1 1 0 0 1 -1-1 7 7 0 0 1 14 0 1 1 0 0 1 -1 1z"
                    ></path>
                  </g>
                </svg>
                <span class="user-profile-label">로그아웃</span>
              </span>
            </button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <main class="gls-py-5 gls-mt-5">
    <div class="gls-container growth-shell">
      <header class="growth-header gls-surface-panel gls-surface-veil gls-flex gls-justify-between gls-items-center gls-flex-wrap gls-gap-3 gls-mb-4">
        <div>
          <p class="gls-text-muted gls-mb-1 gls-text-small">나의 성장 여정</p>
          <h2 class="gls-mb-0">레벨 · 업적 · 숲 지도</h2>
        </div>
        <a class="gls-btn gls-btn-secondary" href="/html/mypage.html">마이페이지로 돌아가기</a>
      </header>

      <section class="growth-section growth-hero">
        <div class="growth-hero-grid">
          <div class="growth-level-card card glass-card gls-surface-veil">
            <div class="card-body gls-flex gls-flex-wrap gls-items-center gls-gap-4">
              <div class="growth-level-ring" aria-label="레벨 진행도">
                <div class="growth-level-ring-fill"></div>
                <div class="growth-level-core">
                  <div class="growth-level-number">Lv.0</div>
                  <div class="growth-level-leaf" aria-hidden="true">🍃</div>
                </div>
              </div>
              <div class="growth-level-text gls-flex-1">
                <p class="gls-text-muted gls-text-small gls-mb-1">현재 레벨</p>
                <div class="gls-flex gls-items-center gls-gap-2 gls-mb-1">
                  <h3 class="gls-mb-0" id="growthLevelLabel">Lv.0</h3>
                  <span class="gls-badge gls-badge-soft" id="growthLevelTitle">새싹</span>
                </div>
                <p class="gls-mb-1 gls-text-muted" id="growthLevelXp">0 / 0 XP</p>
                <div class="growth-level-progress" aria-hidden="true">
                  <div class="growth-level-progress-bar"></div>
                </div>
              </div>
              <div class="growth-today-pill">
                <div class="label">오늘 획득 XP</div>
                <div class="value" id="growthTodayXp">+0</div>
                <div class="sub" id="growthStreakLabel">연속 0일째</div>
              </div>
            </div>
          </div>

          <div class="growth-stat-grid">
            <div class="growth-stat-card card glass-card gls-surface-veil">
              <div class="card-body">
                <div class="gls-flex gls-justify-between gls-items-start gls-mb-2">
                  <h4 class="gls-mb-0">오늘의 기록</h4>
                  <span class="gls-badge gls-badge-soft" id="growthWeeklyPosts">이번 주 0개</span>
                </div>
                <ul class="growth-today-list" id="growthTodayList">
                  <li>오늘 획득 XP: <strong id="growthTodayXpDetail">+0</strong></li>
                  <li>연속 글쓰기: <strong id="growthStreakDetail">0일째</strong></li>
                  <li>최장 스트릭: <strong id="growthMaxStreak">0일</strong></li>
                </ul>
              </div>
            </div>

            <div class="growth-stat-card card glass-card gls-surface-veil">
              <div class="card-body">
                <div class="gls-flex gls-justify-between gls-items-start gls-mb-2">
                  <h4 class="gls-mb-0">누적 통계</h4>
                  <span class="gls-text-muted gls-text-small">최근 활동에 따라 갱신돼요</span>
                </div>
                <div class="growth-stat-rows" id="growthStatRows">
                  <div class="growth-stat-row">
                    <span>다음 레벨까지</span>
                    <div class="growth-stat-progress">
                      <div class="growth-stat-progress-bar" id="growthNextLevelBar"></div>
                    </div>
                    <span class="growth-stat-label" id="growthNextLevelLabel">0 XP 남음</span>
                  </div>
                  <div class="growth-stat-row">
                    <span>스트릭</span>
                    <div class="growth-stat-progress">
                      <div class="growth-stat-progress-bar" id="growthStreakBar"></div>
                    </div>
                    <span class="growth-stat-label" id="growthStreakMaxLabel">최장 0일</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="growth-section growth-quests-deck gls-mt-4">
        <div class="growth-quest-board card glass-card gls-surface-veil">
          <div class="card-body">
            <div class="gls-flex gls-justify-between gls-items-center gls-flex-wrap gls-gap-2 gls-mb-3">
              <h3 class="growth-section-title gls-mb-0">진행 중인 퀘스트</h3>
              <p class="gls-text-muted gls-text-small gls-mb-0">캠페인별 퀘스트를 보고 바로 진행도를 확인하세요.</p>
            </div>
            <div class="growth-quests-grid">
              <div class="growth-quests-grid__side">
                <div class="campaign-stack" id="campaignStack">
                  <div class="gls-text-muted gls-text-small">활성 캠페인이 없습니다.</div>
                </div>
              </div>
              <div class="growth-quests-grid__main">
                <div class="quest-columns">
                  <div class="quest-column">
                    <div class="quest-column-header">
                      <div class="quest-column-title">오늘의 퀘스트</div>
                      <span class="quest-column-sub">일일 리셋</span>
                    </div>
                    <div class="quest-card-list" id="growthQuestListToday"></div>
                  </div>
                  <div class="quest-column">
                    <div class="quest-column-header">
                      <div class="quest-column-title">주간 · 시즌/이벤트 퀘스트</div>
                      <span class="quest-column-sub">주간/시즌/이벤트</span>
                    </div>
                    <div class="quest-card-list" id="growthQuestListWeek"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="growth-section growth-achievement-quests gls-mt-4">
        <div class="card glass-card gls-surface-veil">
          <div class="card-body">
            <div class="gls-flex gls-justify-between gls-items-center gls-flex-wrap gls-gap-2 gls-mb-3">
              <h3 class="growth-section-title gls-mb-0">업적 퀘스트</h3>
              <p class="gls-text-muted gls-text-small gls-mb-0">업적을 완료하고 보상을 받아보세요.</p>
            </div>
            <div class="achievement-quest-list" id="achievementQuestList"></div>
          </div>
        </div>
      </section>

      <section class="growth-section growth-forest-map gls-mt-4">
        <div class="gls-flex gls-justify-between gls-items-center gls-flex-wrap gls-gap-2 gls-mb-3">
          <h3 class="growth-section-title gls-mb-0">숲 지도 · 업적</h3>
          <p class="gls-text-muted gls-mb-0 gls-text-small">업적을 클릭하면 오른쪽 패널에서 자세히 볼 수 있어요.</p>
        </div>
        <div class="forest-map card glass-card gls-surface-veil">
          <div class="card-body">
            <div class="forest-map-path"></div>
            <div class="forest-map-ground"></div>
            <div class="forest-map-layout">
              <div class="forest-map-achievements" id="forestMapAchievements"></div>
              <div class="forest-map-detail-panel" id="forestMapDetail">
                <div class="forest-map-detail-label">선택한 업적</div>
                <p class="gls-text-muted gls-mb-1">업적을 선택하면 상세 정보가 여기에 표시됩니다.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="growth-section growth-quests-and-list gls-mt-4">
        <div class="growth-achievement-list card glass-card gls-surface-veil gls-h-100">
          <div class="card-body">
            <div class="achievement-list-header gls-flex gls-justify-between gls-items-center gls-flex-wrap gls-gap-2 gls-mb-3">
              <h3 class="growth-section-title gls-mb-0">업적 목록</h3>
              <div class="achievement-filters" id="achievementFilters" role="group" aria-label="업적 필터">
                <button type="button" class="achievement-filter-btn is-active" data-filter="all">전체</button>
                <button type="button" class="achievement-filter-btn" data-filter="in_progress">진행 중</button>
                <button type="button" class="achievement-filter-btn" data-filter="completed">완료</button>
                <button type="button" class="achievement-filter-btn" data-filter="locked">잠금</button>
              </div>
            </div>
            <div class="achievement-grid" id="achievementGrid"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <footer class="custom-footer">
    <div class="gls-container">
      <div class="gls-flex gls-flex-col gls-gap-2 gls-items-center gls-text-center gls-md-flex-row gls-justify-between">
        <div class="footer-left gls-text-md-start">
          <div class="footer-brand">글숲</div>
          <p class="footer-subtitle gls-mb-0">마음을 나누는 작은 숲</p>
        </div>
        <div class="footer-right gls-text-md-end footer-meta">
          <p class="footer-copy gls-mb-1">조용히 머물다 가는 공간을 함께 가꿔요.</p>
          <p class="footer-small gls-mb-0">&copy; 2025 글숲</p>
        </div>
      </div>
    </div>
  </footer>
  <script src="/js/theme.js" defer></script>
  <script src="/js/header.js"></script>
  <script src="/js/growth.js"></script>
</body>
</html>
